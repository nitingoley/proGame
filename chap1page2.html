<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter first game Development</title>
    <link rel="stylesheet" href="chap1page2.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind:wght@500&family=Roboto:ital,wght@0,500;1,500&display=swap"
        rel="stylesheet">
</head>

<body>
    <header>
        <div class="handing">
            <div class="start-main">
                <ul>
                    <li>Right Click anywhere on your project panel and click on "Create" and choose C# script.</li>
                    <li>Name This Script as "VibrationController" and open the script in any code editor.</li>
                </ul>
                <br>
                <br>
                <br>
                <!--Add  first pic here-->

                <div class="pic1"><img src="Pic1.png" width="240px" alt="" srcset=""></div>
                <!--Add second pic here-->
                <br>
                <br>
                <br>
                <div class="pic-2">
                    <ul>
                        <li>By default the script would look like this</li>
                </div>
                </ul>
                <br>
                <br>
                <div class="pic2"><img src="Pic2.png" alt=""></div>

                <br>
                <br>
                <div class="pic3-para">
                    <ul>
                        <li> Remove the upper two lines that are using namespace System as we dont need them.</li>
                        <li>Mark the class as static so we can access it from anywhere and remove the monobehaviour as
                            we dont need it.</li>
                        <li>Remove the start and update function.</li>
                        <li>Now the Script would look like this.</li>
                    </ul>
                    <br>
                    <br>
                    <div class="pic-3"><img src="PIC3.png" alt=""></div>
                    <br>
                    <br><br>
                    <br>
                    <ul>
                        <li>Now we will declare a static AndriodJavaClass (AndroidJavaClass is the Unity representation
                            of a generic instance of java.lang.Class.);
                            also we will need to declare a static AndroidJavaObject class to get the current activity of
                            the Android device and another to call any event
                            for that activity.</li>
                        <br>
                        <li>So write the code given below</li>
                    </ul>
                    <br>
                    <br>


                    <code>
    //Code start
    <br>
    <p> public static AndroidJavaClass unityPlayer = new AndroidJavaClass("com.unity3d.player.UnityPlayer");</p>
   <p> public static AndroidJavaObject currentActivity = unityPlayer.GetStatic<AndroidJavaObject>("currentActivity");</p>
   <p>public static AndroidJavaObject  vibrator = currentActivity.Call<AndroidJavaObject>("getSystemService","vibrator");     </p>
    
    </code>
                    <br>
                    <br>
                    <br>
                    <!-- <div class="next-page"><a href="chap1page3.html">next</a></div> -->

                    <div class="start-main2">

                        <ul>

                            <li>AWe only need the above lines when we are out of unity editor or in Android Device so
                                surrounding this code in IF region, the code will look like this now.</li>
                        </ul>
                        <br>
                        <div class="pic4"><img src="pic4.png" width="900px" alt="" srcset=""></div>
                        <div class="line2">

                            <br>
                            <ul>
                                <li>Lets also create a function to check wheather the currently running device in an
                                    Andriod Or
                                    Not and we are not in Unity Editor.
                                </li>

                            </ul>
                            <br><br>
                            <code>
        <p>
            //Code
                <p>    public static bool isAndroid() </p>
                <p>    {
                    <p>       #if UNITY_ANDROID && !UNITY_EDITOR</p>
                        <p>         return true;</p>
                            <p>    #else</p>
                               
                            <p>    return false;</p>
                           <p> #endif</p>
                  <p>  }</p>
         
        
                            </code>
                            <br>
                            <br>

                            <ul>
                                <li>Lets finally add a static funtion named "Vibrate" which will take the time in
                                    milliseconds
                                    for which we want device to vibrate(Deafult will be 250 miliseconds)</li>
                            </ul>
                            <br>
                            <br>
                            <code>
        <p> //CODE</p>
        <p>   public static void Vibrate(long milliseconds = 250)</p>
        <p>   {</p>
            <p>           if(isAndroid())   //Checking wheather device is android or not</p>
            <p>    {</p>
                <p>         vibrator.Call("vibrate",milliseconds);</p>
                          <p>     }</p>
                          <p>   else</p>
                          <p>    {</p>
                            <p>        Handheld.Vibrate();  //For vibrating in Another Devices</p>
                            <p>    }</p>
                            <p>  }</p>
        </p>
        
        </code>
                            <br>
                            <br>
                            <ul>
                                <li>inally the code would look like this</li>
                            </ul>
                            <br><br>

                            <div class="pic5"><img src="PIC45.png" alt=""></div>
                            <br>
                            <br>
                            <p>
                                Now you just need to call the vibrate function of VibrationController script from
                                anywhere in
                                your project and can vibrate your device to add some effects to your game. In some cases
                                you
                                also need to cancle the vibration so for that add a function given below to your script.
                            </p>
                            <br>
                            <br>
                            <code>
                        <p>
                            //Source Code  </p>
                            <p> public static void Cancle()  //Function to stop the vibration  </p>
                            <p>  {  </p>
                                <p>    if(isAndroid())  </p>
                                <p>   {  </p>
                                    <p>      vibrator.call("cancel");  </p>
                                    <p>   }  </p>
                                    <p>    }  </p>
                
                        
                    </code>
                            <footer>
                                <br>
                                <br>
                                <br>
                                <br>
                                <div class="writer">---AYUSH SHARMA(Indie GameDeveloper)
                                </div>
                                <br>
                                <div class="designer">---Website designed by Nitin Goley</div>
                                <footer>
                                    <div class="adjust">

                                        
                                    </div>
                                </footer>


                        </div>
                    </div>
                </div>



    </header>


</body>

</html>